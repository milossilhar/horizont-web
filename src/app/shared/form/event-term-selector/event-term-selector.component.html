<div class="w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
  @for (term of terms(); track $index) {
    @let selected = (selectedIndex | async) === $index;

    <div class="p-2 rounded-border cursor-pointer bg-highlight hover:bg-highlight-emphasis"
      [class]="{ 'bg-highlight-emphasis': selected }"
      (click)="onTermClick($index)">
      <div class="flex flex-row w-full justify-between">
        <p class="text-lg">Termín {{$index +1}}</p>
        @if(selected) {
          <i class="pi pi-check-circle"></i>
        } @else {
          <i class="pi pi-circle"></i>
        }
      </div>
      <p class="text-2xl text-bold">{{term.startAt | date : 'd. MMM'}} - {{term.endAt | date : 'd. MMM'}}</p>
      <div class="w-full flex flex-row justify-between items-center">
        <div class="flex flex-col items-start">
          <p class="text-xl">{{term.price | currency}} / dieťa</p>
          @if (term.deposit > 0) {
            <p class="text-sm">Záloha {{term.deposit | currency}} / dieťa</p>
          }
        </div>
        <p class="text-xl"><i class="pi pi-user mr-1"></i>{{term.capacity}}<span class="ml-1 text-xs">max.</span></p>
      </div>
    </div>
  }
</div>
