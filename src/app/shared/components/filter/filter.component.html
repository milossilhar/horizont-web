<div class="flex flex-col h-full w-96 bg-white rounded-lg">
  <!-- Header -->
  <div class="flex items-baseline justify-between p-4">
    <h2 class="text-xl font-semibold text-gray-900">Filter</h2>
    <p-button label="Clear filters" variant="text" severity="info"
              icon="pi pi-times" iconPos="right" size="small"
              [class]="hasAnyValue ? 'visible' : 'invisible'"
              (click)="clearAllFilters()">
    </p-button>
  </div>

  <!-- Filter Content -->
  <div class="p-4 space-y-6">
    @if (filterOptions.length === 0) {
      <!-- Loading State -->
      <div class="flex flex-col space-y-4">
        <p-skeleton height="1rem" width="6rem"></p-skeleton>
        <p-skeleton height="2.5rem" width="100%"></p-skeleton>

        <p-skeleton height="1rem" width="8rem"></p-skeleton>
        <p-skeleton height="2.5rem" width="100%"></p-skeleton>

        <p-skeleton height="1rem" width="7rem"></p-skeleton>
        <p-skeleton height="2.5rem" width="100%"></p-skeleton>
      </div>
    } @else {
      <!-- Actual Filter Options -->
      <form [formGroup]="form">
        @for (option of filterOptions; track $index) {
          @if (option.type === 'text') {
            <!-- Text Input Filter -->
              <!-- TODO -->
          } @else if (option.type === 'enum') {
            <div class="flex flex-col gap-2 items-stretch justify-start">
              <p class="text-lg">{{option.label}}</p>
              <app-enum-select [formControlName]="option.prop"
                               [enumName]="option.enumName ?? ''"
                               [inputId]="option.prop + '-enum'"
                               [placeholder]="option.placeholder">
              </app-enum-select>
            </div>
          }
        }
      </form>
    }
  </div>
  <p>{{form.getRawValue() | json}}</p>
</div>
