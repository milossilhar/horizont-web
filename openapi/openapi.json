{
  "openapi": "3.1.0",
  "info": {
    "title": "Registration System API",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:8080",
      "description": "Development server"
    }
  ],
  "paths": {
    "/events/{eventId}": {
      "put": {
        "tags": [
          "event"
        ],
        "operationId": "updateEvent",
        "parameters": [
          {
            "name": "eventId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EventDTO"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EventDTO"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "event"
        ],
        "operationId": "deleteEvent",
        "parameters": [
          {
            "name": "eventId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GenericResponseDTOString"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          }
        }
      }
    },
    "/events": {
      "get": {
        "tags": [
          "event"
        ],
        "operationId": "getAll",
        "parameters": [
          {
            "name": "pageable",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Pageable"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageableResponseDTOEventDTO"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "event"
        ],
        "operationId": "createEvent",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EventDTO"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EventDTO"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          }
        }
      }
    },
    "/events/events/{eventId}/terms": {
      "get": {
        "tags": [
          "eventTerm"
        ],
        "operationId": "getEventTerms",
        "parameters": [
          {
            "name": "eventId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GenericResponseDTOLong"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "eventTerm"
        ],
        "operationId": "createEventTerm",
        "parameters": [
          {
            "name": "eventId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EventTermDTO"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EventTermDTO"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          }
        }
      }
    },
    "/enumerations/{enumName}": {
      "post": {
        "tags": [
          "enumeration"
        ],
        "operationId": "createEnumItem",
        "parameters": [
          {
            "name": "enumName",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "REG_EVENT_CONDITION_TYPE",
                "REG_EVENT_DISCOUNT_TYPE",
                "REG_EVENT_TYPE",
                "REG_EVENT_TERM_TAG",
                "REG_PLACE",
                "REG_PERIOD",
                "REG_RELATION",
                "REG_SHIRT_SIZE"
              ]
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EnumerationItemAggregateDTO"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnumerationItemAggregateDTO"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          }
        }
      }
    },
    "/health/env": {
      "get": {
        "tags": [
          "health"
        ],
        "operationId": "getEnvironment",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GenericResponseDTOString"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          }
        }
      }
    },
    "/events/id/{id}": {
      "get": {
        "tags": [
          "event"
        ],
        "operationId": "getEventById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EventDTO"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          }
        }
      }
    },
    "/enumerations/names/administrated": {
      "get": {
        "tags": [
          "enumeration"
        ],
        "operationId": "getNamesAdministrated",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          }
        }
      }
    },
    "/enumerations/items/name/{enumName}": {
      "get": {
        "tags": [
          "enumeration"
        ],
        "operationId": "getEnumItems",
        "parameters": [
          {
            "name": "enumName",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "REG_EVENT_CONDITION_TYPE",
                "REG_EVENT_DISCOUNT_TYPE",
                "REG_EVENT_TYPE",
                "REG_EVENT_TERM_TAG",
                "REG_PLACE",
                "REG_PERIOD",
                "REG_RELATION",
                "REG_SHIRT_SIZE"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EnumerationItemAggregateDTO"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          }
        }
      }
    },
    "/enumerations/items/administrated": {
      "get": {
        "tags": [
          "enumeration"
        ],
        "operationId": "getItemsAdministrated",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/EnumerationItemAggregateDTO"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          }
        }
      }
    },
    "/enumerations/{enumName}/{enumCode}/hide": {
      "delete": {
        "tags": [
          "enumeration"
        ],
        "operationId": "deleteEnumItem",
        "parameters": [
          {
            "name": "enumName",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "REG_EVENT_CONDITION_TYPE",
                "REG_EVENT_DISCOUNT_TYPE",
                "REG_EVENT_TYPE",
                "REG_EVENT_TERM_TAG",
                "REG_PLACE",
                "REG_PERIOD",
                "REG_RELATION",
                "REG_SHIRT_SIZE"
              ]
            }
          },
          {
            "name": "enumCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EnumerationItemAggregateDTO"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GenericErrorDTO"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "GenericErrorDTO": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string"
          },
          "status_code": {
            "type": "integer",
            "format": "int32"
          },
          "message": {
            "type": "string"
          },
          "parameters": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            }
          }
        }
      },
      "EventConditionDTO": {
        "type": "object",
        "properties": {
          "conditionType": {
            "type": "string",
            "enum": [
              "YEAR_BORN"
            ]
          },
          "minValue": {
            "type": "string",
            "maxLength": 50,
            "minLength": 0
          },
          "maxValue": {
            "type": "string",
            "maxLength": 50,
            "minLength": 0
          },
          "value": {
            "type": "string",
            "maxLength": 50,
            "minLength": 0
          }
        },
        "required": [
          "conditionType"
        ]
      },
      "EventDTO": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1
          },
          "details": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 1
          },
          "eventType": {
            "type": "string"
          },
          "imageUrl": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1
          },
          "registrationStarts": {
            "type": "string",
            "format": "date-time"
          },
          "registrationEnds": {
            "type": "string",
            "format": "date-time"
          },
          "placeCode": {
            "type": "string"
          },
          "periodCode": {
            "type": "string"
          },
          "conditions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EventConditionDTO"
            }
          },
          "locked": {
            "type": "string",
            "format": "date-time"
          },
          "status": {
            "type": "string",
            "enum": [
              "DRAFT",
              "PUBLISHED",
              "CANCELLED",
              "DELETED"
            ]
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string"
          },
          "modifiedAt": {
            "type": "string",
            "format": "date-time"
          },
          "modifiedBy": {
            "type": "string"
          }
        },
        "required": [
          "details",
          "eventType",
          "name",
          "placeCode",
          "registrationEnds",
          "registrationStarts"
        ]
      },
      "EventTermDTO": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "repeatType": {
            "type": "string",
            "enum": [
              "ONCE",
              "DAILY",
              "WEEKLY"
            ]
          },
          "startDate": {
            "type": "string",
            "format": "date"
          },
          "startTime": {
            "type": "string",
            "example": "14:30:00"
          },
          "durationMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "endDate": {
            "type": "string",
            "format": "date"
          },
          "dayOfWeek": {
            "type": "string",
            "enum": [
              "MONDAY",
              "TUESDAY",
              "WEDNESDAY",
              "THURSDAY",
              "FRIDAY",
              "SATURDAY",
              "SUNDAY"
            ]
          },
          "expectedTrainers": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "maxItems": 2147483647,
            "minItems": 1
          },
          "deposit": {
            "type": "number"
          },
          "price": {
            "type": "number"
          },
          "capacity": {
            "type": "integer",
            "format": "int64"
          },
          "hasAttendance": {
            "type": "boolean"
          },
          "eventId": {
            "type": "integer",
            "format": "int64"
          }
        },
        "required": [
          "capacity",
          "durationMinutes",
          "hasAttendance",
          "price",
          "repeatType",
          "startDate",
          "startTime"
        ]
      },
      "EnumerationItemDTO": {
        "type": "object",
        "discriminator": {
          "propertyName": "type"
        },
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "code": {
            "type": "string"
          },
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 0
          },
          "description": {
            "type": "string",
            "maxLength": 150,
            "minLength": 0
          },
          "ordering": {
            "type": "integer",
            "format": "int32"
          },
          "hidden": {
            "type": "boolean"
          },
          "type": {
            "type": "string"
          }
        },
        "required": [
          "type"
        ]
      },
      "PlaceDTO": {
        "allOf": [
          {
            "$ref": "#/components/schemas/EnumerationItemDTO"
          },
          {
            "type": "object",
            "properties": {
              "latitude": {
                "type": "number",
                "maximum": 90,
                "minimum": -90
              },
              "longitude": {
                "type": "number",
                "maximum": 180,
                "minimum": -180
              }
            }
          }
        ],
        "required": [
          "latitude",
          "longitude"
        ]
      },
      "GenericResponseDTOString": {
        "type": "object",
        "properties": {
          "value": {
            "type": "string"
          }
        }
      },
      "Pageable": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "size": {
            "type": "integer",
            "format": "int32",
            "minimum": 1
          },
          "sort": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "PageableResponseDTOEventDTO": {
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EventDTO"
            }
          },
          "pageNumber": {
            "type": "integer",
            "format": "int64"
          },
          "pageSize": {
            "type": "integer",
            "format": "int64"
          },
          "totalPages": {
            "type": "integer",
            "format": "int64"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "GenericResponseDTOLong": {
        "type": "object",
        "properties": {
          "value": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "EnumerationItemAggregateDTO": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/EnumerationItemDTO"
          },
          {
            "$ref": "#/components/schemas/PlaceDTO"
          }
        ]
      }
    }
  }
}